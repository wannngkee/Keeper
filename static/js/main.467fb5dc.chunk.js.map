{"version":3,"sources":["components/Authentication.jsx","components/Header.jsx","components/Footer.jsx","components/Note.jsx","components/CreateArea.jsx","pages/Home.js","components/Loading.jsx","App.jsx","auth/auth0-provider-with-history.js","index.js"],"names":["Login","loginWithRedirect","useAuth0","className","onClick","screen_hint","Logout","logout","user","email","given_name","returnTo","window","location","origin","Authentication","isAuthenticated","Header","to","Footer","year","Date","getFullYear","Note","props","useState","done","setDone","note","title","setTitle","content","setContent","value","onChange","e","target","disabled","rows","style","width","onDelete","id","newNote","setNotes","notes","newNotes","axios","patch","then","res","console","log","catch","err","CreateArea","isExpanded","setExpanded","setNote","handleChange","event","name","prevNote","placeholder","Zoom","in","Fab","onAdd","preventDefault","Home","open","setOpen","type","setType","message","setMessage","getAllNotes","a","get","params","allNotes","data","deleteNote","prevNotes","filter","noteItem","index","delete","useEffect","post","Snackbar","autoHideDuration","onClose","reason","anchorOrigin","vertical","horizontal","Alert","severity","map","key","_id","Loading","src","alt","App","isLoading","exact","path","component","Auth0ProviderWithHistory","children","history","useHistory","domain","process","clientId","redirectUri","onRedirectCallback","appState","push","pathname","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.467fb5dc.chunk.js","sourcesContent":["import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst Login = () => {\n  const { loginWithRedirect } = useAuth0();\n  return (\n    <p\n      className=\"auth\"\n      onClick={() => loginWithRedirect({ screen_hint: \"signup\" })}\n    >\n      Log in\n    </p>\n  );\n};\n\nconst Logout = () => {\n  const { logout, user } = useAuth0();\n  const { email, given_name } = user;\n  return (\n    <>\n      <p>Hi {given_name ? given_name : email} !</p>\n      <p\n        className=\"logout auth\"\n        onClick={() =>\n          logout({\n            returnTo: window.location.origin,\n          })\n        }\n      >\n        Log out\n      </p>\n    </>\n  );\n};\n\nconst Authentication = () => {\n  const { isAuthenticated } = useAuth0();\n\n  return isAuthenticated ? <Logout /> : <Login />;\n};\n\nexport default Authentication;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\nimport Authentication from \"./Authentication\";\n\nfunction Header() {\n  // const currentRoute = useHistory().location.pathname.toLowerCase();\n  return (\n    <header className=\"box\">\n      <div className=\"left\">\n        <Link className=\"link\" to=\"/\">\n          <h1>\n            <HighlightIcon /> Keeper\n          </h1>\n        </Link>\n      </div>\n      <div className=\"right\">\n        <Authentication />\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer>\n      <p>Copyright â“’ {year}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useState } from \"react\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport DoneOutlineOutlinedIcon from \"@material-ui/icons/DoneOutlineOutlined\";\nimport axios from \"axios\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst Note = (props) => {\n  const { user, isAuthenticated } = useAuth0();\n  const [done, setDone] = useState(true);\n  const [title, setTitle] = useState(props.note.title);\n  const [content, setContent] = useState(props.note.content);\n\n  const handleDelete = () => {\n    props.onDelete(props.id);\n  };\n  const handleEdit = () => {\n    setDone((done) => !done);\n    if (!done) {\n      const newNote = { title, content };\n      props.setNotes((notes) => {\n        const newNotes = notes;\n        newNotes[props.id] = newNote;\n        return newNotes;\n      });\n      if (isAuthenticated) {\n        const id = props.id[0];\n        axios\n          .patch(\n            `https://keeper-mern.herokuapp.com/notes/${user.email}/${id}`,\n            {\n              title: newNote.title,\n              content: newNote.content,\n            }\n          )\n          .then((res) => {\n            console.log(res);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    }\n  };\n  const handleTitle = (e) => {\n    setTitle(e.target.value);\n  };\n  const handleContent = (e) => {\n    setContent(e.target.value);\n  };\n\n  return (\n    <div className=\"note\">\n      <>\n        <input value={title} onChange={handleTitle} disabled={done} />\n        {done ? null : <hr />}\n        <textarea\n          rows={4}\n          value={content}\n          onChange={handleContent}\n          disabled={done}\n          style={{ width: 210 }}\n        />\n      </>\n      <button onClick={handleDelete}>\n        <DeleteIcon />\n      </button>\n      <button onClick={handleEdit}>\n        {done ? <EditIcon /> : <DoneOutlineOutlinedIcon />}\n      </button>\n    </div>\n  );\n};\n\nexport default Note;\n","import React, { useState } from \"react\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nfunction CreateArea(props) {\n  const { loginWithRedirect } = useAuth0();\n  const [isExpanded, setExpanded] = useState(false);\n\n  const [note, setNote] = useState({\n    title: \"\",\n    content: \"\",\n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setNote((prevNote) => {\n      return {\n        ...prevNote,\n        [name]: value,\n      };\n    });\n  }\n\n  function submitNote(event) {\n    if (props.isAuthenticated) {\n      props.onAdd(note);\n      if (note.title || note.content) {\n        setNote({\n          title: \"\",\n          content: \"\",\n        });\n        event.preventDefault();\n      }\n    } else {\n      loginWithRedirect({ screen_hint: \"signup\" });\n    }\n  }\n\n  function expand() {\n    setExpanded(true);\n  }\n\n  return (\n    <div>\n      <form className=\"create-note\">\n        {isExpanded && (\n          <input\n            name=\"title\"\n            onChange={handleChange}\n            value={note.title}\n            placeholder=\"Title\"\n          />\n        )}\n\n        <textarea\n          name=\"content\"\n          onClick={expand}\n          onChange={handleChange}\n          value={note.content}\n          placeholder=\"Take a note...\"\n          rows={isExpanded ? 3 : 1}\n        />\n        <Zoom in={isExpanded}>\n          <Fab onClick={submitNote}>\n            <AddIcon />\n          </Fab>\n        </Zoom>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateArea;\n","import React, { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Note from \"../components/Note\";\nimport CreateArea from \"../components/CreateArea\";\nimport axios from \"axios\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nfunction Home() {\n  const { isAuthenticated, user } = useAuth0();\n  const [notes, setNotes] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [type, setType] = useState();\n  const [message, setMessage] = useState();\n  const getAllNotes = async () => {\n    if (isAuthenticated) {\n      await axios\n        .get(\"https://keeper-mern.herokuapp.com/notes\", {\n          params: {\n            user: user.email,\n          },\n        })\n        .then((res) => {\n          const allNotes = res.data[0].notes;\n          setNotes(allNotes);\n        })\n        .catch(function (err) {\n          console.log(err);\n        });\n    } else {\n      setNotes([\n        {\n          title: \"Welcome to Keeper\",\n          content: \"Please feel free to leave a note :)\",\n        },\n      ]);\n    }\n  };\n\n  useEffect(() => {\n    getAllNotes();\n  }, [isAuthenticated]);\n\n  function handleClose(event, reason) {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpen(false);\n  }\n\n  function addNote(newNote) {\n    setOpen(true);\n    if (newNote.title || newNote.content) {\n      setNotes((prevNotes) => {\n        return [...prevNotes, newNote];\n      });\n      setType(\"success\");\n      setMessage(\"Note added\");\n      axios\n        .post(\"https://keeper-mern.herokuapp.com/notes\", {\n          ...newNote,\n          user: user.email,\n        })\n        .then((res) => console.log(res.data));\n    } else {\n      setType(\"error\");\n      setMessage(\"Note cannot be empty\");\n    }\n  }\n\n  function updateNote(id) {\n    axios\n      .patch(`https://keeper-mern.herokuapp.com/notes/${id[0]}`, {\n        params: {\n          user: user.email,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n      });\n  }\n\n  function deleteNote(id) {\n    setNotes((prevNotes) => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id[1];\n      });\n    });\n    axios\n      .delete(`https://keeper-mern.herokuapp.com/notes/${id[0]}`, {\n        params: {\n          user: user.email,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n      });\n  }\n\n  return (\n    <div>\n      <Header />\n      <CreateArea onAdd={addNote} isAuthenticated={isAuthenticated} />\n      <Snackbar\n        open={open}\n        autoHideDuration={2000}\n        onClose={handleClose}\n        anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n      >\n        <Alert severity={type}>{message}</Alert>\n      </Snackbar>\n      {notes.map((noteItem, index) => {\n        return (\n          <Note\n            key={index}\n            id={[noteItem._id, index]}\n            note={noteItem}\n            setNotes={setNotes}\n            onDelete={deleteNote}\n          />\n        );\n      })}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n","import React from \"react\";\nconst loadingImg =\n  \"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg\";\n\nconst Loading = () => (\n  <div className=\"spinner\">\n    <img src={loadingImg} alt=\"Loading...\" />\n  </div>\n);\n\nexport default Loading;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport Loading from \"./components/Loading\";\n\nfunction App() {\n  const { isLoading } = useAuth0();\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Route exact path=\"/\" component={Home} />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst Auth0ProviderWithHistory = ({ children }) => {\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n\n  const history = useHistory();\n\n  const onRedirectCallback = (appState) => {\n    history.push(appState?.returnTo || window.location.pathname);\n  };\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n      onRedirectCallback={onRedirectCallback}\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\nexport default Auth0ProviderWithHistory;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Auth0ProviderWithHistory from \"./auth/auth0-provider-with-history\";\n\nReactDOM.render(\n  <Router>\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}